<%- include('../views/partials/header') %>
<%- include('../views/partials/navbar') %>

<div class="container mt-4 mb-5">
  <!-- Title -->
  <div class="text-center mb-4">
    <h2 class="fw-bold text-danger">ğŸ“œ Step Tracking History</h2>
    <p class="text-muted">Your step entries recorded so far</p>
  </div>

  <!-- Summary -->
  <% if (totalPaath > 0) { %>
    <div class="alert alert-success text-center fw-semibold rounded-3">
      ğŸš¶â€â™‚ï¸ Total Steps Logged: <span class="text-danger"><%= totalPaath %></span>
    </div>
  <% } else { %>
    <div class="alert alert-warning text-center rounded-3">
      No step entries found yet.  
      <a href="/paath/add" class="text-danger fw-bold">Add Steps</a>
    </div>
  <% } %>

  <!-- Table Card -->
  <% if (paaths.length > 0) { %>
    <div class="card shadow-sm border-0 rounded-4 overflow-hidden">
      <div class="table-responsive">
        <table class="table table-striped align-middle mb-0">
          <thead class="bg-danger text-white text-center">
            <tr>
              <th style="width: 40%;">ğŸ“… Date</th>
              <th style="width: 30%;">ğŸš¶ Steps</th>
            </tr>
          </thead>
          <tbody class="text-center">
            <% paaths.forEach(p => { %>
              <tr>
                <td><%= new Date(p.date).toLocaleDateString('en-IN', { weekday: 'short', day: 'numeric', month: 'short', year: 'numeric' }) %></td>
                <td><span class="badge bg-danger fs-6"><%= p.count %></span></td>
              </tr>
            <% }) %>
          </tbody>
        </table>
      </div>
    </div>
  <% } %>

  <!-- Back or Add Button -->
  <div class="text-center mt-4">
    <a href="/paath/add" class="btn btn-danger rounded-pill px-4 py-2 fw-bold">
      â• Add Steps
    </a>
  </div>
</div>

<%- include('../views/partials/footer') %>
