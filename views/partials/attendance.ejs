<%
const { adminRoles, prantRoles, zilaRoles, ksheterRoles, kenderRoles, kenderTeamRoles, saadhakRoles } = roles;

const isAdmin = user?.roles.some(role => adminRoles.includes(role));
const isPrantLevel = user?.roles.some(role => prantRoles.includes(role));
const isZilaLevel = user?.roles.some(role => zilaRoles.includes(role));
const isKsheterLevel = user?.roles.some(role => ksheterRoles.includes(role));
const isKenderLevel = user?.roles.some(role => [...kenderRoles, ...kenderTeamRoles].includes(role));
const isSaadhakOnly = user?.roles.some(role => saadhakRoles.includes(role));
%>


<li class="nav-item dropdown">
    <a class="nav-link dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown">
      ğŸ“’ Attendance
    </a>
    <ul class="dropdown-menu">
           
      <% if (user.roles.includes('Kender Pramukh') || user.roles.includes('Seh Kender Pramukh') || user.roles.includes('Shikshak') || user.roles.includes('Karyakarta') || user.roles.includes('Saadhak')) { %>
        <li><a class="dropdown-item" href="/attendance/mark">ğŸ“‹ Mark Attendance</a></li>
        <hr class="menu-divider">
        <li><a class="dropdown-item" href="/attendance/today">ğŸ“‹ Today's Attendance Report</a></li>
        <hr class="menu-divider">
      <% } %>

      <li><a class="dropdown-item" href="/attendance/view">ğŸ“‹ Saadhak/Adhikari Wise Monthly Attendance</a></li>
      <% if (isAdmin || isPrantLevel || isZilaLevel || isKsheterLevel) { %>
      <hr class="menu-divider">
      <li><a class="dropdown-item" href="/attendance/Ksheterwise">ğŸ“‹ Ksheter Wise Monthly Attendance</a></li>
      <% } %>
      <hr class="menu-divider">
      <li><a class="dropdown-item" href="/attendance/view-kender">ğŸ“‹ Kender Wise Monthly Attendance</a></li>
      <hr class="menu-divider">
      <li><a class="dropdown-item" href="/report/attendance-filter">ğŸ“‹ Attendance Summary</a></li>
      <hr class="menu-divider">
      <li><a class="dropdown-item" href="/attendance/missing">ğŸ“‹ Non-Attendance Report</a></li>
     <hr class="menu-divider">
      <li><a class="dropdown-item" href="/attendance/top10">ğŸ“‹ TOP 10 Attendance</a></li>
     <hr class="menu-divider">
      <% if (user.roles.includes('Kender Pramukh') || user.roles.includes('Seh Kender Pramukh')  || user.roles.includes('Karyakarta')  || user.roles.includes('Shikshak')) { %>
        <li><a class="dropdown-item" href="/kender/print-cards">ğŸ“‹ Print Monthly Attendance Cards</a></li>        
      <% } %>
    </ul>
</li>