<!-- views/partials/footer.ejs -->
<footer class="bg-dark text-light text-center py-3 mt-5">
  <div class="container">
    <p class="mb-0">Â© <%= new Date().getFullYear() %> Bhartiya Yog Sansthan, Phagwara Zila. All rights reserved.</p>
  </div>
</footer>

<!-- Bootstrap Bundle -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<!-- Auto-close Navbar on Mobile -->
<script>
  document.addEventListener('DOMContentLoaded', () => {
    const isMobile = () => window.innerWidth < 992;

    if (isMobile()) {
      document.querySelectorAll('.dropdown-menu').forEach(toggle => {
        toggle.addEventListener('click', function () {
          this.classList.toggle('show');
        });
      });

      document.addEventListener('click', e => {
        if (!e.target.closest('.nav-item.dropdown')) {
          document.querySelectorAll('.dropdown-menu.show').forEach(menu => {
            menu.classList.remove('show');
          });
        }
      });
    }
  });
</script>

<!-- Spinner Handler -->
<script>
  (function () {
    const spinner = document.getElementById('loadingSpinner');

    window.addEventListener('pageshow', () => {
      if (spinner) spinner.style.display = 'none';
    });

    document.addEventListener('click', e => {
      const link = e.target.closest('a[href]');
      if (!link) return;

      const href = link.getAttribute('href');
      if (!href || href.startsWith('#') || href.startsWith('javascript') || link.target === '_blank') return;

      if (spinner) spinner.style.display = 'block';
    });

    document.addEventListener('submit', () => {
      if (spinner) spinner.style.display = 'block';
    });
  })();
</script>

<!-- HTML to PDF Tools -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

</body>
</html>
